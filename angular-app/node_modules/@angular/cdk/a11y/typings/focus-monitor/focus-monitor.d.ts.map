{"version":3,"file":"focus-monitor.d.ts","sources":["focus-monitor.d.ts"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["/**\r\n * @license\r\n * Copyright Google LLC All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://angular.io/license\r\n */\r\nimport { Platform } from '@angular/cdk/platform';\r\nimport { ElementRef, EventEmitter, NgZone, OnDestroy, Optional } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nexport declare const TOUCH_BUFFER_MS = 650;\r\nexport declare type FocusOrigin = 'touch' | 'mouse' | 'keyboard' | 'program' | null;\r\n/**\r\n * Corresponds to the options that can be passed to the native `focus` event.\r\n * via https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/focus\r\n */\r\nexport interface FocusOptions {\r\n    /** Whether the browser should scroll to the element when it is focused. */\r\n    preventScroll?: boolean;\r\n}\r\n/** Monitors mouse and keyboard events to determine the cause of focus events. */\r\nexport declare class FocusMonitor implements OnDestroy {\r\n    private _ngZone;\r\n    private _platform;\r\n    /** The focus origin that the next focus event is a result of. */\r\n    private _origin;\r\n    /** The FocusOrigin of the last focus event tracked by the FocusMonitor. */\r\n    private _lastFocusOrigin;\r\n    /** Whether the window has just been focused. */\r\n    private _windowFocused;\r\n    /** The target of the last touch event. */\r\n    private _lastTouchTarget;\r\n    /** The timeout id of the touch timeout, used to cancel timeout later. */\r\n    private _touchTimeoutId;\r\n    /** The timeout id of the window focus timeout. */\r\n    private _windowFocusTimeoutId;\r\n    /** The timeout id of the origin clearing timeout. */\r\n    private _originTimeoutId;\r\n    /** Map of elements being monitored to their info. */\r\n    private _elementInfo;\r\n    /** The number of elements currently being monitored. */\r\n    private _monitoredElementCount;\r\n    /**\r\n     * Event listener for `keydown` events on the document.\r\n     * Needs to be an arrow function in order to preserve the context when it gets bound.\r\n     */\r\n    private _documentKeydownListener;\r\n    /**\r\n     * Event listener for `mousedown` events on the document.\r\n     * Needs to be an arrow function in order to preserve the context when it gets bound.\r\n     */\r\n    private _documentMousedownListener;\r\n    /**\r\n     * Event listener for `touchstart` events on the document.\r\n     * Needs to be an arrow function in order to preserve the context when it gets bound.\r\n     */\r\n    private _documentTouchstartListener;\r\n    /**\r\n     * Event listener for `focus` events on the window.\r\n     * Needs to be an arrow function in order to preserve the context when it gets bound.\r\n     */\r\n    private _windowFocusListener;\r\n    constructor(_ngZone: NgZone, _platform: Platform);\r\n    /**\r\n     * Monitors focus on an element and applies appropriate CSS classes.\r\n     * @param element The element to monitor\r\n     * @param checkChildren Whether to count the element as focused when its children are focused.\r\n     * @returns An observable that emits when the focus state of the element changes.\r\n     *     When the element is blurred, null will be emitted.\r\n     */\r\n    monitor(element: HTMLElement, checkChildren?: boolean): Observable<FocusOrigin>;\r\n    /**\r\n     * Monitors focus on an element and applies appropriate CSS classes.\r\n     * @param element The element to monitor\r\n     * @param checkChildren Whether to count the element as focused when its children are focused.\r\n     * @returns An observable that emits when the focus state of the element changes.\r\n     *     When the element is blurred, null will be emitted.\r\n     */\r\n    monitor(element: ElementRef<HTMLElement>, checkChildren?: boolean): Observable<FocusOrigin>;\r\n    /**\r\n     * Stops monitoring an element and removes all focus classes.\r\n     * @param element The element to stop monitoring.\r\n     */\r\n    stopMonitoring(element: HTMLElement): void;\r\n    /**\r\n     * Stops monitoring an element and removes all focus classes.\r\n     * @param element The element to stop monitoring.\r\n     */\r\n    stopMonitoring(element: ElementRef<HTMLElement>): void;\r\n    /**\r\n     * Focuses the element via the specified focus origin.\r\n     * @param element Element to focus.\r\n     * @param origin Focus origin.\r\n     * @param options Options that can be used to configure the focus behavior.\r\n     */\r\n    focusVia(element: HTMLElement, origin: FocusOrigin, options?: FocusOptions): void;\r\n    /**\r\n     * Focuses the element via the specified focus origin.\r\n     * @param element Element to focus.\r\n     * @param origin Focus origin.\r\n     * @param options Options that can be used to configure the focus behavior.\r\n     */\r\n    focusVia(element: ElementRef<HTMLElement>, origin: FocusOrigin, options?: FocusOptions): void;\r\n    ngOnDestroy(): void;\r\n    private _toggleClass;\r\n    /**\r\n     * Sets the focus classes on the element based on the given focus origin.\r\n     * @param element The element to update the classes on.\r\n     * @param origin The focus origin.\r\n     */\r\n    private _setClasses;\r\n    /**\r\n     * Sets the origin and schedules an async function to clear it at the end of the event queue.\r\n     * @param origin The origin to set.\r\n     */\r\n    private _setOriginForCurrentEventQueue;\r\n    /**\r\n     * Checks whether the given focus event was caused by a touchstart event.\r\n     * @param event The focus event to check.\r\n     * @returns Whether the event was caused by a touch.\r\n     */\r\n    private _wasCausedByTouch;\r\n    /**\r\n     * Handles focus events on a registered element.\r\n     * @param event The focus event.\r\n     * @param element The monitored element.\r\n     */\r\n    private _onFocus;\r\n    /**\r\n     * Handles blur events on a registered element.\r\n     * @param event The blur event.\r\n     * @param element The monitored element.\r\n     */\r\n    _onBlur(event: FocusEvent, element: HTMLElement): void;\r\n    private _emitOrigin;\r\n    private _incrementMonitoredElementCount;\r\n    private _decrementMonitoredElementCount;\r\n}\r\n/**\r\n * Directive that determines how a particular element was focused (via keyboard, mouse, touch, or\r\n * programmatically) and adds corresponding classes to the element.\r\n *\r\n * There are two variants of this directive:\r\n * 1) cdkMonitorElementFocus: does not consider an element to be focused if one of its children is\r\n *    focused.\r\n * 2) cdkMonitorSubtreeFocus: considers an element focused if it or any of its children are focused.\r\n */\r\nexport declare class CdkMonitorFocus implements OnDestroy {\r\n    private _elementRef;\r\n    private _focusMonitor;\r\n    private _monitorSubscription;\r\n    cdkFocusChange: EventEmitter<FocusOrigin>;\r\n    constructor(_elementRef: ElementRef<HTMLElement>, _focusMonitor: FocusMonitor);\r\n    ngOnDestroy(): void;\r\n}\r\n/** @docs-private @deprecated @breaking-change 8.0.0 */\r\nexport declare function FOCUS_MONITOR_PROVIDER_FACTORY(parentDispatcher: FocusMonitor, ngZone: NgZone, platform: Platform): FocusMonitor;\r\n/** @docs-private @deprecated @breaking-change 8.0.0 */\r\nexport declare const FOCUS_MONITOR_PROVIDER: {\r\n    provide: typeof FocusMonitor;\r\n    deps: (Optional[] | typeof NgZone | typeof Platform)[];\r\n    useFactory: typeof FOCUS_MONITOR_PROVIDER_FACTORY;\r\n};\r\n"]}